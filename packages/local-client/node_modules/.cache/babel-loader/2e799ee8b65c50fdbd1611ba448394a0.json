{"ast":null,"code":"import { ActionType } from '../action-types';\nimport { saveCells } from '../action-creators';\nexport const persistMiddleware = ({\n  dispatch,\n  getState\n}) => {\n  return next => {\n    return action => {\n      next(action);\n\n      if ([ActionType.MOVE_CELL, ActionType.UPDATE_CELL, ActionType.INSERT_CELL_AFTER, ActionType.DELETE_CELL].includes(action.type)) {\n        saveCells()(dispatch, getState);\n      }\n    };\n  };\n};","map":{"version":3,"sources":["/Users/tristanwhite/IdeaProjects/jbook/packages/local-client/src/state/middlewares/persist-middleware.ts"],"names":["ActionType","saveCells","persistMiddleware","dispatch","getState","next","action","MOVE_CELL","UPDATE_CELL","INSERT_CELL_AFTER","DELETE_CELL","includes","type"],"mappings":"AAEA,SAAQA,UAAR,QAA0B,iBAA1B;AACA,SAAQC,SAAR,QAAyB,oBAAzB;AAGA,OAAO,MAAMC,iBAAiB,GAAE,CAC5B;AAACC,EAAAA,QAAD;AAAWC,EAAAA;AAAX,CAD4B,KACsD;AAClF,SAAOC,IAAD,IAAoC;AACtC,WAAOC,MAAD,IAAoB;AACtBD,MAAAA,IAAI,CAACC,MAAD,CAAJ;;AAEA,UAAI,CAACN,UAAU,CAACO,SAAZ,EAAuBP,UAAU,CAACQ,WAAlC,EACAR,UAAU,CAACS,iBADX,EAC8BT,UAAU,CAACU,WADzC,EACsDC,QADtD,CAC+DL,MAAM,CAACM,IADtE,CAAJ,EAEE;AACEX,QAAAA,SAAS,GAAGE,QAAH,EAAaC,QAAb,CAAT;AACH;AACJ,KARD;AASH,GAVD;AAWH,CAbM","sourcesContent":["import {Dispatch} from \"redux\";\nimport {Action} from \"../actions\";\nimport {ActionType } from '../action-types';\nimport {saveCells } from '../action-creators';\nimport { RootState } from '../reducers';\n\nexport const persistMiddleware =(\n    {dispatch, getState}: {dispatch: Dispatch<Action>; getState: () => RootState}) => {\n    return(next: (action: Action) => void) => {\n        return(action: Action) => {\n            next(action);\n\n            if ([ActionType.MOVE_CELL, ActionType.UPDATE_CELL,\n                ActionType.INSERT_CELL_AFTER, ActionType.DELETE_CELL].includes(action.type)\n            ) {\n                saveCells()(dispatch, getState);\n            }\n        };\n    };\n};\n"]},"metadata":{},"sourceType":"module"}