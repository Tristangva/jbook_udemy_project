{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tristanwhite/IdeaProjects/jbook/packages/local-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/tristanwhite/IdeaProjects/jbook/packages/local-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";export var unpkgPathPlugin=function unpkgPathPlugin(){return{name:'unpkg-path-plugin',setup:function setup(build){// handle root entry file of 'index.ts\nbuild.onResolve({filter:/(^index\\.js$)/},function(){return{path:'index.ts',namespace:'a'};});//handle releative paths in a module\nbuild.onResolve({filter:/^\\.+\\//},function(args){return{namespace:'a',path:new URL(args.path,'https://unpkg.com'+args.resolveDir+'/').href};});// handle main file of a module\nbuild.onResolve({filter:/.*/},/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(args){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:return _context.abrupt(\"return\",{namespace:'a',path:\"https://unpkg.com/\".concat(args.path)});case 1:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());}};};","map":{"version":3,"sources":["/Users/tristanwhite/IdeaProjects/jbook/packages/local-client/src/bundler/plugins/unpkg-path-plugins.ts"],"names":["unpkgPathPlugin","name","setup","build","onResolve","filter","path","namespace","args","URL","resolveDir","href"],"mappings":"mWAEA,MAAO,IAAMA,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CACjC,MAAO,CACHC,IAAI,CAAE,mBADH,CAEHC,KAFG,gBAEGC,KAFH,CAE+B,CAC9B;AACAA,KAAK,CAACC,SAAN,CAAgB,CAACC,MAAM,CAAE,eAAT,CAAhB,CAA2C,UAAM,CAC7C,MAAO,CAACC,IAAI,CAAE,UAAP,CAAmBC,SAAS,CAAE,GAA9B,CAAP,CACH,CAFD,EAGA;AACAJ,KAAK,CAACC,SAAN,CAAgB,CAAEC,MAAM,CAAE,QAAV,CAAhB,CAAqC,SAACG,IAAD,CAAc,CAC/C,MAAO,CACHD,SAAS,CAAE,GADR,CAEHD,IAAI,CAAE,GAAIG,CAAAA,GAAJ,CAAQD,IAAI,CAACF,IAAb,CAAmB,oBAAoBE,IAAI,CAACE,UAAzB,CAAoC,GAAvD,EACJC,IAHC,CAAP,CAKH,CAND,EAOA;AACAR,KAAK,CAACC,SAAN,CAAgB,CAAEC,MAAM,CAAE,IAAV,CAAhB,0FAAkC,iBAAOG,IAAP,kJAEvB,CACHD,SAAS,CAAE,GADR,CAEHD,IAAI,6BAAuBE,IAAI,CAACF,IAA5B,CAFD,CAFuB,wDAAlC,gEAQH,CAxBE,CAAP,CA0BH,CA3BM","sourcesContent":["import * as esbuild from 'esbuild-wasm';\n\nexport const unpkgPathPlugin = () => {\n    return {\n        name: 'unpkg-path-plugin',\n        setup(build: esbuild.PluginBuild) {\n            // handle root entry file of 'index.ts\n            build.onResolve({filter: /(^index\\.js$)/}, () => {\n                return {path: 'index.ts', namespace: 'a'};\n            });\n            //handle releative paths in a module\n            build.onResolve({ filter: /^\\.+\\//}, (args:any) => {\n                return {\n                    namespace: 'a',\n                    path: new URL(args.path, 'https://unpkg.com'+args.resolveDir+'/'\n                    ).href,\n                };\n            })\n            // handle main file of a module\n            build.onResolve({ filter: /.*/ }, async (args: any) => {\n\n                return {\n                    namespace: 'a',\n                    path: `https://unpkg.com/${args.path}`\n                }\n\n            });\n        },\n    };\n};\n"]},"metadata":{},"sourceType":"module"}