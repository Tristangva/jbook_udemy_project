{"ast":null,"code":"import _objectSpread from\"/Users/tristanwhite/IdeaProjects/jbook/packages/local-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/tristanwhite/IdeaProjects/jbook/packages/local-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{ResizableBox}from\"react-resizable\";import'./resizable.css';import{useEffect,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var Resizable=function Resizable(_ref){var direction=_ref.direction,children=_ref.children;var resizableProps;var _useState=useState(window.innerHeight),_useState2=_slicedToArray(_useState,2),innerHeight=_useState2[0],setInnerHeight=_useState2[1];var _useState3=useState(window.innerWidth),_useState4=_slicedToArray(_useState3,2),innerWidth=_useState4[0],setInnerWidth=_useState4[1];var _useState5=useState(window.innerWidth*0.75),_useState6=_slicedToArray(_useState5,2),width=_useState6[0],setWidth=_useState6[1];useEffect(function(){var timer;// lets lest lag happen\nvar listener=function listener(){if(timer){clearTimeout(timer);}timer=setTimeout(function(){setInnerHeight(window.innerHeight);setInnerWidth(window.innerWidth);if(window.innerWidth*0.75<width){setWidth(window.innerWidth*0.75);}},100);};window.addEventListener('resize',listener);return function(){window.removeEventListener('resize',listener);};},[width]);if(direction==='horizontal'){resizableProps={className:'resize-horizontal',minConstraints:[innerWidth*0.2,Infinity],maxConstraints:[innerWidth*0.75,Infinity],height:Infinity,width:width,resizeHandles:['e'],onResizeStop:function onResizeStop(event,data){setWidth(data.size.width);}};}else{resizableProps={minConstraints:[Infinity,24],maxConstraints:[Infinity,innerHeight*0.9],height:300,width:Infinity,resizeHandles:['s']};}return/*#__PURE__*/_jsx(ResizableBox,_objectSpread(_objectSpread({},resizableProps),{},{children:children}));};export default Resizable;","map":{"version":3,"sources":["/Users/tristanwhite/IdeaProjects/jbook/packages/local-client/src/components/resizable.tsx"],"names":["ResizableBox","useEffect","useState","Resizable","direction","children","resizableProps","window","innerHeight","setInnerHeight","innerWidth","setInnerWidth","width","setWidth","timer","listener","clearTimeout","setTimeout","addEventListener","removeEventListener","className","minConstraints","Infinity","maxConstraints","height","resizeHandles","onResizeStop","event","data","size"],"mappings":"qWAAA,OAAQA,YAAR,KAA8C,iBAA9C,CACA,MAAO,iBAAP,CACA,OAAQC,SAAR,CAAmBC,QAAnB,KAAkC,OAAlC,C,2CAMA,GAAMC,CAAAA,SAAmC,CAAG,QAAtCA,CAAAA,SAAsC,MACmB,IADjBC,CAAAA,SACiB,MADjBA,SACiB,CAAdC,QAAc,MAAdA,QAAc,CAC3D,GAAIC,CAAAA,cAAJ,CACA,cAAsCJ,QAAQ,CAACK,MAAM,CAACC,WAAR,CAA9C,wCAAOA,WAAP,eAAoBC,cAApB,eACA,eAAoCP,QAAQ,CAACK,MAAM,CAACG,UAAR,CAA5C,yCAAOA,UAAP,eAAmBC,aAAnB,eACA,eAA0BT,QAAQ,CAACK,MAAM,CAACG,UAAP,CAAkB,IAAnB,CAAlC,yCAAOE,KAAP,eAAcC,QAAd,eAEAZ,SAAS,CAAC,UAAI,CAEV,GAAIa,CAAAA,KAAJ,CAEA;AACA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACnB,GAAGD,KAAH,CAAS,CACLE,YAAY,CAACF,KAAD,CAAZ,CACH,CACDA,KAAK,CAAGG,UAAU,CAAC,UAAK,CACpBR,cAAc,CAACF,MAAM,CAACC,WAAR,CAAd,CACAG,aAAa,CAACJ,MAAM,CAACG,UAAR,CAAb,CACA,GAAGH,MAAM,CAACG,UAAP,CAAkB,IAAlB,CAAyBE,KAA5B,CAAmC,CAC/BC,QAAQ,CAACN,MAAM,CAACG,UAAP,CAAkB,IAAnB,CAAR,CACH,CACJ,CANiB,CAMf,GANe,CAAlB,CAOH,CAXD,CAaAH,MAAM,CAACW,gBAAP,CAAwB,QAAxB,CAAkCH,QAAlC,EAEA,MAAM,WAAK,CACPR,MAAM,CAACY,mBAAP,CAA2B,QAA3B,CAAqCJ,QAArC,EACH,CAFD,CAGH,CAvBQ,CAuBN,CAACH,KAAD,CAvBM,CAAT,CAyBA,GAAIR,SAAS,GAAK,YAAlB,CAAgC,CAC5BE,cAAc,CAAG,CACbc,SAAS,CAAE,mBADE,CAEbC,cAAc,CAAE,CAACX,UAAU,CAAC,GAAZ,CAAiBY,QAAjB,CAFH,CAGbC,cAAc,CAAE,CAACb,UAAU,CAAC,IAAZ,CAAkBY,QAAlB,CAHH,CAIbE,MAAM,CAAEF,QAJK,CAKbV,KAAK,CAALA,KALa,CAMba,aAAa,CAAE,CAAC,GAAD,CANF,CAObC,YAAY,CAAE,sBAACC,KAAD,CAAQC,IAAR,CAAiB,CAC3Bf,QAAQ,CAACe,IAAI,CAACC,IAAL,CAAUjB,KAAX,CAAR,CACH,CATY,CAAjB,CAWH,CAZD,IAYO,CACHN,cAAc,CAAG,CACbe,cAAc,CAAE,CAACC,QAAD,CAAW,EAAX,CADH,CAEbC,cAAc,CAAE,CAACD,QAAD,CAAWd,WAAW,CAAC,GAAvB,CAFH,CAGbgB,MAAM,CAAE,GAHK,CAIbZ,KAAK,CAAEU,QAJM,CAKbG,aAAa,CAAE,CAAC,GAAD,CALF,CAAjB,CAOH,CAED,mBAAO,KAAC,YAAD,gCAAkBnB,cAAlB,eACFD,QADE,GAAP,CAGH,CAzDD,CA2DA,cAAeF,CAAAA,SAAf","sourcesContent":["import {ResizableBox, ResizableBoxProps} from \"react-resizable\";\nimport './resizable.css'\nimport {useEffect, useState} from \"react\";\n\ninterface ResizableProps {\n    direction: 'horizontal' | 'vertical';\n}\n\nconst Resizable: React.FC<ResizableProps> = ({direction,\n                                                 children}) => {\n    let resizableProps: ResizableBoxProps;\n    const [innerHeight, setInnerHeight] = useState(window.innerHeight);\n    const [innerWidth, setInnerWidth] = useState(window.innerWidth);\n    const [width, setWidth] = useState(window.innerWidth*0.75)\n\n    useEffect(()=>{\n\n        let timer: any;\n\n        // lets lest lag happen\n        const listener = () => {\n            if(timer){\n                clearTimeout(timer)\n            }\n            timer = setTimeout(()=> {\n                setInnerHeight(window.innerHeight);\n                setInnerWidth(window.innerWidth);\n                if(window.innerWidth*0.75 < width) {\n                    setWidth(window.innerWidth*0.75);\n                }\n            }, 100);\n        }\n\n        window.addEventListener('resize', listener);\n\n        return()=> {\n            window.removeEventListener('resize', listener);\n        }\n    }, [width]);\n\n    if (direction === 'horizontal') {\n        resizableProps = {\n            className: 'resize-horizontal',\n            minConstraints: [innerWidth*0.2, Infinity],\n            maxConstraints: [innerWidth*0.75, Infinity],\n            height: Infinity,\n            width,\n            resizeHandles: ['e'],\n            onResizeStop: (event, data) => {\n                setWidth(data.size.width);\n            }\n        };\n    } else {\n        resizableProps = {\n            minConstraints: [Infinity, 24],\n            maxConstraints: [Infinity, innerHeight*0.9],\n            height: 300,\n            width: Infinity,\n            resizeHandles: ['s'],\n        };\n    }\n\n    return <ResizableBox {...resizableProps}>\n        {children}\n    </ResizableBox>;\n};\n\nexport default Resizable;\n"]},"metadata":{},"sourceType":"module"}